{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Download,X,Smartphone,CheckCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const InstallPWA=()=>{const[deferredPrompt,setDeferredPrompt]=useState(null);const[showInstallPrompt,setShowInstallPrompt]=useState(false);const[isInstalled,setIsInstalled]=useState(false);const[isInstalling,setIsInstalling]=useState(false);useEffect(()=>{// Check if app is already installed\nconst checkIfInstalled=()=>{if(window.matchMedia('(display-mode: standalone)').matches||window.navigator.standalone===true){setIsInstalled(true);return true;}return false;};// Listen for beforeinstallprompt event\nconst handleBeforeInstallPrompt=e=>{e.preventDefault();setDeferredPrompt(e);setShowInstallPrompt(true);};// Listen for app installed event\nconst handleAppInstalled=()=>{setIsInstalled(true);setShowInstallPrompt(false);setDeferredPrompt(null);};// Check if already installed\nif(!checkIfInstalled()){window.addEventListener('beforeinstallprompt',handleBeforeInstallPrompt);window.addEventListener('appinstalled',handleAppInstalled);}return()=>{window.removeEventListener('beforeinstallprompt',handleBeforeInstallPrompt);window.removeEventListener('appinstalled',handleAppInstalled);};},[]);const handleInstallClick=async()=>{if(!deferredPrompt)return;setIsInstalling(true);try{// Show the install prompt\ndeferredPrompt.prompt();// Wait for the user to respond to the prompt\nconst{outcome}=await deferredPrompt.userChoice;if(outcome==='accepted'){console.log('User accepted the install prompt');setIsInstalled(true);setShowInstallPrompt(false);}else{console.log('User dismissed the install prompt');}}catch(error){console.error('Error during installation:',error);}finally{setIsInstalling(false);setDeferredPrompt(null);}};const handleDismiss=()=>{setShowInstallPrompt(false);setDeferredPrompt(null);};// Don't show if already installed or no prompt available\nif(isInstalled||!showInstallPrompt||!deferredPrompt){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg\",children:/*#__PURE__*/_jsx(Smartphone,{className:\"w-5 h-5 text-blue-600 dark:text-blue-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 dark:text-gray-100\",children:\"Install App\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Get quick access to AI Diagnostic\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDismiss,className:\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-green-500\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Works offline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-green-500\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Fast access from home screen\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-green-500\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Native app experience\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleInstallClick,disabled:isInstalling,className:\"w-full flex items-center justify-center space-x-2 py-3 px-4 rounded-xl font-medium transition-all duration-300 \".concat(isInstalling?'bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed':'bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105'),children:isInstalling?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Installing...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Install AI Diagnostic\"})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 text-center mt-3\",children:\"Tap \\\"Install\\\" to add to your home screen\"})]})});};export default InstallPWA;","map":{"version":3,"names":["React","useState","useEffect","Download","X","Smartphone","CheckCircle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InstallPWA","deferredPrompt","setDeferredPrompt","showInstallPrompt","setShowInstallPrompt","isInstalled","setIsInstalled","isInstalling","setIsInstalling","checkIfInstalled","window","matchMedia","matches","navigator","standalone","handleBeforeInstallPrompt","e","preventDefault","handleAppInstalled","addEventListener","removeEventListener","handleInstallClick","prompt","outcome","userChoice","console","log","error","handleDismiss","className","children","onClick","disabled","concat"],"sources":["C:/Users/EGOIST/Documents/COOKING/IDEATHON-PS10/src/components/InstallPWA.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Download, X, Smartphone, CheckCircle } from 'lucide-react';\r\n\r\nconst InstallPWA = () => {\r\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\r\n  const [showInstallPrompt, setShowInstallPrompt] = useState(false);\r\n  const [isInstalled, setIsInstalled] = useState(false);\r\n  const [isInstalling, setIsInstalling] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Check if app is already installed\r\n    const checkIfInstalled = () => {\r\n      if (window.matchMedia('(display-mode: standalone)').matches || \r\n          window.navigator.standalone === true) {\r\n        setIsInstalled(true);\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    // Listen for beforeinstallprompt event\r\n    const handleBeforeInstallPrompt = (e) => {\r\n      e.preventDefault();\r\n      setDeferredPrompt(e);\r\n      setShowInstallPrompt(true);\r\n    };\r\n\r\n    // Listen for app installed event\r\n    const handleAppInstalled = () => {\r\n      setIsInstalled(true);\r\n      setShowInstallPrompt(false);\r\n      setDeferredPrompt(null);\r\n    };\r\n\r\n    // Check if already installed\r\n    if (!checkIfInstalled()) {\r\n      window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n      window.addEventListener('appinstalled', handleAppInstalled);\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n      window.removeEventListener('appinstalled', handleAppInstalled);\r\n    };\r\n  }, []);\r\n\r\n  const handleInstallClick = async () => {\r\n    if (!deferredPrompt) return;\r\n\r\n    setIsInstalling(true);\r\n    \r\n    try {\r\n      // Show the install prompt\r\n      deferredPrompt.prompt();\r\n      \r\n      // Wait for the user to respond to the prompt\r\n      const { outcome } = await deferredPrompt.userChoice;\r\n      \r\n      if (outcome === 'accepted') {\r\n        console.log('User accepted the install prompt');\r\n        setIsInstalled(true);\r\n        setShowInstallPrompt(false);\r\n      } else {\r\n        console.log('User dismissed the install prompt');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error during installation:', error);\r\n    } finally {\r\n      setIsInstalling(false);\r\n      setDeferredPrompt(null);\r\n    }\r\n  };\r\n\r\n  const handleDismiss = () => {\r\n    setShowInstallPrompt(false);\r\n    setDeferredPrompt(null);\r\n  };\r\n\r\n  // Don't show if already installed or no prompt available\r\n  if (isInstalled || !showInstallPrompt || !deferredPrompt) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg\">\r\n              <Smartphone className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n            </div>\r\n            <div>\r\n              <h3 className=\"font-semibold text-gray-900 dark:text-gray-100\">Install App</h3>\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">Get quick access to AI Diagnostic</p>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={handleDismiss}\r\n            className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Benefits */}\r\n        <div className=\"space-y-3 mb-4\">\r\n          <div className=\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400\">\r\n            <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n            <span>Works offline</span>\r\n          </div>\r\n          <div className=\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400\">\r\n            <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n            <span>Fast access from home screen</span>\r\n          </div>\r\n          <div className=\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400\">\r\n            <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n            <span>Native app experience</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Install Button */}\r\n        <button\r\n          onClick={handleInstallClick}\r\n          disabled={isInstalling}\r\n          className={`w-full flex items-center justify-center space-x-2 py-3 px-4 rounded-xl font-medium transition-all duration-300 ${\r\n            isInstalling\r\n              ? 'bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed'\r\n              : 'bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105'\r\n          }`}\r\n        >\r\n          {isInstalling ? (\r\n            <>\r\n              <div className=\"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin\"></div>\r\n              <span>Installing...</span>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Download className=\"w-4 h-4\" />\r\n              <span>Install AI Diagnostic</span>\r\n            </>\r\n          )}\r\n        </button>\r\n\r\n        {/* Footer */}\r\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 text-center mt-3\">\r\n          Tap \"Install\" to add to your home screen\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InstallPWA;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}